<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Character Quest | CTY Bible Adventure</title>
  <link rel="icon" href="data:,">
  <link rel="stylesheet" href="./style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Fredoka+One&display=swap" rel="stylesheet">
</head>
<body>

<div class="game-wrap" id="game-wrap">
  <canvas class="particle-canvas" id="particle-canvas"></canvas>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCREEN 1 â€” SPLASH / BOOT
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen active" id="screen-splash">
    <div class="splash-inner">
      <div class="splash-logo">
        <span class="splash-sword">âš”ï¸</span>
        <h1 class="splash-title">Character<br><span>Quest</span></h1>
        <span class="splash-shield">ğŸ›¡ï¸</span>
      </div>
      <p class="splash-sub">Bible Adventure for Champions</p>
      <div class="splash-loader">
        <div class="loader-bar" id="loader-bar"></div>
      </div>
      <p class="splash-loading-text" id="splash-loading-text">Loading your adventure...</p>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCREEN 2 â€” HOME
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen" id="screen-home">
    <div class="home-bg-layer" id="home-bg-layer"></div>
    <div class="home-inner">
      <div class="player-card" id="player-card">
        <div class="player-avatar" id="player-avatar">âš”ï¸</div>
        <div class="player-info">
          <div class="player-level-row">
            <span class="player-level-badge" id="player-level-badge">Lv 1</span>
            <span class="player-title" id="player-title">Seeker</span>
          </div>
          <div class="player-xp-wrap">
            <div class="player-xp-bar">
              <div class="player-xp-fill" id="player-xp-fill" style="width:0%"></div>
            </div>
            <span class="player-xp-text" id="player-xp-text">0 / 200 XP</span>
          </div>
        </div>
        <div class="player-fp">
          <span class="fp-gem">âœ¨</span>
          <span id="home-fp-count">0</span>
        </div>
      </div>

      <div class="streak-bar" id="streak-bar">
        <span class="streak-flame" id="streak-flame">ğŸ”¥</span>
        <span class="streak-text" id="streak-text">0 day streak</span>
      </div>

      <div class="daily-banner" id="daily-banner">
        <div class="daily-icon">ğŸ“…</div>
        <div class="daily-info">
          <div class="daily-label">Daily Challenge</div>
          <div class="daily-sub" id="daily-sub">Available now!</div>
        </div>
        <button class="daily-go-btn" id="daily-go-btn">GO â–¶</button>
      </div>

      <div class="home-btns">
        <button class="btn-home-play" id="btn-home-play">â–¶ Play!</button>
        <button class="btn-home-heroes" id="btn-home-heroes">ğŸ“– Hall of Heroes</button>
      </div>

      <a href="../../games.html" class="btn-back-link">â† Back to Games</a>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCREEN 3 â€” ERA MAP
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen" id="screen-era-map">
    <div class="era-map-header">
      <button class="btn-nav-back" id="back-era-to-home">â†</button>
      <h2 class="screen-title-sm">Choose an Era</h2>
      <div class="header-fp"><span>âœ¨</span><span id="era-fp-count">0</span></div>
    </div>
    <div class="era-scroll-wrap">
      <div class="era-path" id="era-path">
        <!-- Era nodes injected by JS -->
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCREEN 4 â€” ERA HUB
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen" id="screen-era-hub">
    <div class="era-hub-bg" id="era-hub-bg"></div>
    <div class="era-hub-header">
      <button class="btn-nav-back" id="back-hub-to-era">â†</button>
      <div class="era-hub-title-wrap">
        <span class="era-hub-emoji" id="era-hub-emoji">ğŸŒ</span>
        <h2 class="era-hub-title" id="era-hub-title">Era Name</h2>
      </div>
      <div class="header-fp"><span>âœ¨</span><span id="hub-fp-count">0</span></div>
    </div>
    <p class="era-hub-desc" id="era-hub-desc">Description</p>
    <div class="era-characters-grid" id="era-characters-grid">
      <!-- Character cards injected by JS -->
    </div>
    <button class="btn-boss" id="btn-boss" disabled>
      <span class="boss-emoji" id="boss-btn-emoji">âš”ï¸</span>
      <span>Boss Battle</span>
      <span class="boss-lock-icon" id="boss-lock-icon">ğŸ”’</span>
    </button>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCREEN 5 â€” CHARACTER CARD (3D flip reveal)
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen" id="screen-char-card">
    <div class="char-card-header">
      <button class="btn-nav-back" id="back-card-to-hub">â†</button>
      <span class="char-card-era-badge" id="char-card-era-badge">Era 1</span>
      <div class="header-fp"><span>âœ¨</span><span id="card-fp-count">0</span></div>
    </div>
    <div class="char-3d-scene" id="char-3d-scene">
      <div class="char-3d-card" id="char-3d-card">
        <div class="char-card-front" id="char-card-front">
          <div class="char-rarity-glow" id="char-rarity-glow"></div>
          <div class="char-big-emoji" id="char-big-emoji">âš”ï¸</div>
          <h2 class="char-card-name" id="char-card-name">Character</h2>
          <p class="char-card-title" id="char-card-title">Title</p>
          <div class="char-stats-row" id="char-stats-row">
            <div class="char-stat"><span class="stat-label">Faith</span><div class="stat-bar"><div class="stat-fill faith-fill" id="stat-faith"></div></div></div>
            <div class="char-stat"><span class="stat-label">Wisdom</span><div class="stat-bar"><div class="stat-fill wisdom-fill" id="stat-wisdom"></div></div></div>
            <div class="char-stat"><span class="stat-label">Courage</span><div class="stat-bar"><div class="stat-fill courage-fill" id="stat-courage"></div></div></div>
            <div class="char-stat"><span class="stat-label">Strength</span><div class="stat-bar"><div class="stat-fill strength-fill" id="stat-strength"></div></div></div>
          </div>
          <p class="char-card-tap-hint">Tap to flip â–¶</p>
        </div>
        <div class="char-card-back" id="char-card-back">
          <div class="char-bio-text" id="char-bio-text">Bio text here.</div>
          <div class="char-back-ref" id="char-back-ref">Scripture reference</div>
          <p class="char-card-tap-hint">Tap to flip back â—€</p>
        </div>
      </div>
    </div>
    <div class="tier-select-row" id="tier-select-row">
      <button class="tier-btn active" data-tier="seeker" id="tier-btn-seeker">Seeker<br><small>Q1â€“3</small></button>
      <button class="tier-btn locked" data-tier="explorer" id="tier-btn-explorer">Explorer<br><small>Q4â€“6</small></button>
      <button class="tier-btn locked" data-tier="warrior" id="tier-btn-warrior">Warrior<br><small>Q7â€“9</small></button>
    </div>
    <button class="btn-start-quest" id="btn-start-quest">Begin Quest â–¶</button>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCREEN 6 â€” QUEST (question area)
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen" id="screen-quest">
    <div class="quest-header">
      <button class="btn-nav-back" id="back-quest-to-card">â†</button>
      <div class="quest-progress-wrap">
        <div class="quest-progress-track"><div class="quest-progress-bar" id="quest-progress-bar"></div></div>
      </div>
      <span class="quest-counter" id="quest-counter">1/3</span>
    </div>

    <div class="quest-character-strip">
      <span class="quest-char-emoji" id="quest-char-emoji">âš”ï¸</span>
      <span class="quest-char-name" id="quest-char-name">Character</span>
      <span class="quest-tier-tag" id="quest-tier-tag">Seeker</span>
    </div>

    <div class="question-card" id="question-card">
      <p class="question-scenario" id="question-scenario"></p>
      <p class="question-text" id="question-text">Loading...</p>
    </div>

    <!-- DECISION / WHO-SAID answer area -->
    <div class="answer-area hidden" id="area-choice">
      <div class="choices-grid" id="choices-grid"></div>
    </div>

    <!-- FILL-IN answer area -->
    <div class="answer-area hidden" id="area-fill-in">
      <div class="fill-verse" id="fill-verse"></div>
      <div class="fill-options" id="fill-options"></div>
    </div>

    <!-- TIMELINE answer area -->
    <div class="answer-area hidden" id="area-timeline">
      <p class="timeline-hint">Tap events in the correct order â†“</p>
      <div class="timeline-events" id="timeline-events"></div>
      <div class="timeline-slots" id="timeline-slots"></div>
      <button class="btn-timeline-reset" id="btn-timeline-reset">Reset â†º</button>
    </div>

    <!-- SCRAMBLE answer area -->
    <div class="answer-area hidden" id="area-scramble">
      <div class="scramble-slots" id="scramble-slots"></div>
      <div class="scramble-words" id="scramble-words"></div>
      <button class="btn-scramble-reset" id="btn-scramble-reset">Reset â†º</button>
    </div>

    <!-- FAST-FACTS answer area -->
    <div class="answer-area hidden" id="area-fast-facts">
      <div class="ff-counter-wrap">
        <div class="ff-timer-ring" id="ff-timer-ring">
          <svg class="ff-timer-svg" viewBox="0 0 44 44">
            <circle class="ff-ring-bg" cx="22" cy="22" r="18" />
            <circle class="ff-ring-fill" id="ff-ring-fill" cx="22" cy="22" r="18" />
          </svg>
          <span class="ff-timer-text" id="ff-timer-text">8</span>
        </div>
        <span class="ff-score-text" id="ff-score-text">0 / 10</span>
      </div>
      <div class="ff-statement-card" id="ff-statement-card">
        <p class="ff-statement" id="ff-statement">Statement here</p>
      </div>
      <div class="ff-tf-btns">
        <button class="btn-ff-true" id="btn-ff-true">âœ… TRUE</button>
        <button class="btn-ff-false" id="btn-ff-false">âŒ FALSE</button>
      </div>
    </div>

    <!-- DEEP-DIVE answer area -->
    <div class="answer-area hidden" id="area-deep-dive">
      <div class="dd-part-indicator" id="dd-part-indicator">Part 1 of 4</div>
      <div class="dd-choices" id="dd-choices"></div>
      <div class="dd-hint-row">
        <button class="btn-dd-hint" id="btn-dd-hint">ğŸ’¡ Hint (-5 FP)</button>
        <span class="dd-hint-text hidden" id="dd-hint-text"></span>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCREEN 7 â€” RESULT OVERLAY
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen feedback-overlay hidden" id="screen-result">
    <div class="result-card" id="result-card">
      <div class="result-icon-wrap">
        <div class="result-big-icon" id="result-big-icon">ğŸ‰</div>
      </div>
      <h2 class="result-title" id="result-title">Amazing!</h2>
      <p class="result-msg" id="result-msg">Correct!</p>
      <div class="scripture-card" id="scripture-card">
        <div class="scripture-label">ğŸ“– Scripture</div>
        <div class="scripture-ref" id="result-scripture-ref">Reference</div>
        <div class="scripture-quote" id="result-scripture-text">Verse text here</div>
      </div>
      <div class="result-rewards" id="result-rewards">
        <span class="reward-chip xp-chip" id="result-xp">+50 XP</span>
        <span class="reward-chip fp-chip" id="result-fp">+10 âœ¨</span>
      </div>
      <div class="result-feedback" id="result-feedback">Feedback text</div>
      <button class="btn-result-next" id="btn-result-next">Continue â–¶</button>
      <button class="btn-result-retry hidden" id="btn-result-retry">Try Again â†º</button>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCREEN 8 â€” BOSS BATTLE
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen" id="screen-boss">
    <div class="boss-bg" id="boss-bg"></div>
    <div class="boss-header">
      <div class="boss-hp-row" id="boss-hp-row">
        <span class="boss-round-label" id="boss-round-label">Round 1</span>
        <div class="player-hp" id="player-hp">
          <span class="hp-heart active" id="hp1">â¤ï¸</span>
          <span class="hp-heart active" id="hp2">â¤ï¸</span>
          <span class="hp-heart active" id="hp3">â¤ï¸</span>
        </div>
      </div>
      <div class="boss-progress-wrap">
        <div class="boss-progress-bar" id="boss-progress-bar" style="width:0%"></div>
      </div>
    </div>

    <div class="boss-character-area" id="boss-character-area">
      <div class="boss-emoji-display" id="boss-emoji-display">ğŸ‘‘</div>
      <div class="boss-name-display" id="boss-name-display">Boss</div>
      <div class="boss-taunt" id="boss-taunt">Prepare yourself!</div>
    </div>

    <div class="boss-card-select" id="boss-card-select">
      <p class="boss-card-label">Choose your hero card:</p>
      <div class="boss-card-row" id="boss-card-row"></div>
    </div>

    <div class="boss-question-area" id="boss-question-area">
      <div class="boss-question-card">
        <p class="boss-question-text" id="boss-question-text">Question loads here</p>
        <div class="boss-choices" id="boss-choices"></div>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCREEN 9 â€” BOSS DEFEAT
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen" id="screen-boss-defeat">
    <div class="defeat-inner">
      <div class="defeat-confetti" id="defeat-confetti"></div>
      <div class="trophy-3d" id="trophy-3d">ğŸ†</div>
      <h2 class="defeat-title">ERA COMPLETE!</h2>
      <p class="defeat-boss-name" id="defeat-boss-name">Boss Defeated!</p>
      <div class="badge-unlock-wrap" id="badge-unlock-wrap">
        <p class="badge-unlock-label">New Badge Unlocked!</p>
        <div class="badge-big" id="badge-big">ğŸŒˆ</div>
        <div class="badge-name" id="badge-name">Badge Name</div>
      </div>
      <div class="defeat-rewards">
        <span class="reward-chip xp-chip" id="defeat-xp">+500 XP</span>
        <span class="reward-chip fp-chip" id="defeat-fp">+100 âœ¨</span>
      </div>
      <div class="defeat-btns">
        <button class="btn-play-big" id="btn-defeat-continue">Next Era â–¶</button>
        <button class="btn-outline-sm" id="btn-defeat-map">Era Map</button>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCREEN 10 â€” HALL OF HEROES
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen" id="screen-heroes">
    <div class="heroes-header">
      <button class="btn-nav-back" id="back-heroes-to-home">â†</button>
      <h2 class="screen-title-sm">Hall of Heroes</h2>
      <div class="heroes-filter-row" id="heroes-filter-row">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="common">Common</button>
        <button class="filter-btn" data-filter="rare">Rare</button>
        <button class="filter-btn" data-filter="epic">Epic</button>
        <button class="filter-btn" data-filter="legendary">Legendary</button>
      </div>
    </div>
    <div class="heroes-grid" id="heroes-grid">
      <!-- Hero cards injected by JS -->
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCREEN 11 â€” DAILY CHALLENGE
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen" id="screen-daily">
    <div class="daily-header">
      <button class="btn-nav-back" id="back-daily-to-home">â†</button>
      <h2 class="screen-title-sm">Daily Challenge</h2>
      <div class="daily-streak-display">
        <span>ğŸ”¥</span><span id="daily-streak-num">0</span>
      </div>
    </div>
    <div class="daily-frame">
      <div class="daily-question-card">
        <div class="daily-badge-row">
          <span class="daily-badge">ğŸ“… Today's Challenge</span>
          <span class="daily-xp-badge">3Ã— XP</span>
        </div>
        <p class="question-text" id="daily-question-text">Loading...</p>
        <div class="answer-area" id="daily-answer-area"></div>
      </div>
    </div>
    <div class="daily-next-wrap">
      <span class="daily-next-label">Next challenge in:</span>
      <span class="daily-countdown" id="daily-countdown">--:--:--</span>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       LEVEL-UP POPUP (overlay)
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="levelup-overlay hidden" id="levelup-overlay">
    <div class="levelup-burst" id="levelup-burst"></div>
    <div class="levelup-card">
      <div class="levelup-icon">â¬†ï¸</div>
      <h2 class="levelup-title">LEVEL UP!</h2>
      <div class="levelup-level" id="levelup-level">Level 2</div>
      <div class="levelup-new-title" id="levelup-new-title">Wanderer</div>
      <button class="btn-levelup-ok" id="btn-levelup-ok">Awesome! ğŸ‰</button>
    </div>
  </div>

  <!-- Save indicator -->
  <div class="save-dot hidden" id="save-dot">ğŸ’¾ Savingâ€¦</div>
</div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<script src="../../../js/firebase-config.js"></script>
<script src="./game.js"></script>
</body>
</html>
